<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="stylesheet" href="css/styles.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
        <title>Programs</title>
    
    </head>

    <!-- Hide HTML elements with hidden class -->
  <style>
    .hidden{
      display: none !important;
    }

    textarea {
      resize: none;
    }
  </style>

<body class="white">
    <h4 id = "program_name"></h4>
    <h4>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </h4>

    <!-- dailymessage modal -->
    <div id="modal-daily-pr" class="modal">
      <div class="modal-content center-align">
        <h6 id = "modal-message-text-pr">Mensaje del día: </h6><br/>
        <button id = "modal-message-close-pr">Cerrar</button>
        <h6>Si no deseas recibir mensajes del día,
          ve a Cuenta > Más configuraciones.
        </h6><br/>
      </div>
    </div>

    <!-- postcreation modal -->
    <div id="modal-programpost" class="modal">
      <div class="modal-content center-align">
        <h6 id = "modal-message-text">Escribir publicación: </h6><br/>
            <label>Título</label>
            <input type="text" id = "program-title"/>
            <label>Descripción</label>
            <textarea id = "program-post" rows="10" cols="100"></textarea>

            <ul>
              <label>
                <input style = "width: 10vw;" id="add-fireteam" type="checkbox" checked ="checked"/>
                <span>Crear una escuadra</span>
              </label>
              <label>
                <input style = "width: 10vw;" id="add-video" type="checkbox" checked ="checked"/>
                <span>Adjuntar un video</span>
              </label>
            </ul>

            <div class="fireteam-container" style="margin-top: 40px;">
              <h5>Crear Escuadra</h5>
    
              <h6>Actividad:</h6>
                <select id = "activity-list" class="browser-default">
                </select>
    
                <h6>Soy:</h6>
                <select id = "class-list" class="browser-default">
                    <option value="Titán">Titán</option>
                    <option value="Cazador">Cazador</option>
                    <option value="Hechicero">Hechicero</option>
                </select>
    
                <h6>Mi nivel es:</h6>
                <input id="level" type="number" class="browser-default" value="750">
    
                <h6>Plataforma:</h6>
                <select id = "platform-list" class="browser-default">
                  <option value="Xbox">Xbox</option>
                  <option value="PC">PC</option>
              </select>
    
              <ul>
                <label>
                  <input style = "width: 10vw;" id="mic-required" type="checkbox" checked ="checked"/>
                  <span>Requiere micrófono</span>
                </label>
              </ul>
    
              <ul>
                <label>
                  <input style = "width: 10vw;" id="publish-band" type="checkbox" checked="checked"/>
                  <span>Conectar con BAND</span>
                </label>
              </ul>
    
              <!--ul class="band-error hidden">
                <h6>No tienes cuenta de BAND vinculada.
                  Por favor vincula tu cuenta desde la sección
                  Detalles de la Cuenta.
                </h6>
              </ul>
    
              <ul class="lfg-error hidden">
                <h6>No se encontró el BAND requerido.
                  Es posible que haya ocurrido un error
                  en el servidor o no formes parte
                  de Abysmal Light LFG.
                </h6>
              </ul>
    
              <ul class="fireteam-error hidden">
                <h6>No se pudo crear la escuadra.
                  Inténtalo más tarde.
                  También asegúrate de que tu nivel
                  esté entre 750 y 1050.
                </h6>
              </ul>
    
              <h6 class="loading hidden">Cargando...</h6-->
            </div>

            <div class="stream-container" style="margin-top: 40px;">
              <h5>Adjuntar video/directo</h5>
              
              <form class="stream-form">
                <h6>Plataforma:</h6>
                <select id = "stream-list" class="browser-default">
                  <option value=1>Twitch</option>
                  <option value=0>Youtube</option>
              </select>
              <h6>Canal:</h6>
                <select id = "channel-list" class="browser-default">
                  <option value=1>Canal 1</option>
                  <option value=2>Canal 2</option>
                  <option value=3>Canal 3</option>
              </select>
              <h6>Código del video:</h6>
                <input type="text" name="code">
                <ul>
                  <h6>Ejemplos de códigos (resaltados en color azul):</h6>
                  <img src="images/twitch.PNG">
                  <img src="images/youtube.PNG">
                </ul>
              </form>
    
              <!--h6 class="loading2 hidden">Cargando...</h6>
    
              <ul class="stream-error hidden">
                <h6>No se pudo completar la transacción.
                  Parece que hubo un error en el servidor
                  o no cuentas con suficientes Abysmal Coins.
                  Inténtalo más tarde.
                </h6>
              </ul>
    
              <ul class="stream-notenabled hidden">
                <h6>Por el momento la opción para
                  rentar el espacio de directos está
                  deshabilitada.
                </h6>
              </ul>
    
            <ul class="stream-correct hidden">
              <h6>Tu directo se subió exitosamente. Una vez que el tiempo de renta expire,
                tu directo seguirá apareciendo en la sección de Abysmal Highlights
                hasta que alguien más rente.
              </h6>
            </ul-->
      </div>

      <ul class="post-error hidden">
        <h6>Hubo un problema al crear la publicación. Por favor
          inténtalo de nuevo más tarde. Asegúrate de que:
          *La publicación no tenga más de 500 caracteres.
          *El título no esté en blanco.
          *Si quieres agregar una escuadra, que el nivel de tu personaje no sea menor a 750 o mayor a 1100.
          *Si quieres adjuntar un directo, que el código del mismo no esté en blanco.
        </h6>
      </ul>
      
      <h6 class="loading hidden">Cargando...</h6>

      <button class = "post-publish">Publicar</button>

      </div>
    </div>

    <section class="content">
      <header>
        <nav>
        </nav>
      </header>

        <ul class="program_content hidden">
          <div class="container" style="z-index: 1; top: 0px; position: fixed; margin-top: 40px;">
            <h5 style ="right: 0px; background-color:white; width: 360vw;">Abysmal Highlights</h5>
            <div class="close_highlight hidden">
              <a style ="background-color:white;" id = "close_highlight_btn">Cerrar</a>
            </div>
            <div class="open_highlight hidden">
              <a style ="background-color:white;" id = "open_highlight_btn">Abrir</a>
            </div>
            <div>
              <iframe width = 360vw height = 160vw class = "video-youtube hidden"
              src="" frameborder="0" allow="autoplay; accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    
              <iframe width = 360vw height = 160vw class = "video-twitch hidden" src="" frameborder="0" allowfullscreen="true" 
              scrolling="no"></iframe>
            </div>
          </div>

          <div class="container" style="margin-top: 40px;">
            <h5>Publicaciones recientes</h5>
            <ul class="z-depth-0 guides" style="border: none;">
              <li>
                <div id="post1" class="collapsible-header grey lighten-4"></div>
              </li>
              <li>
                <div id="post2" class="collapsible-header grey lighten-4"></div>
              </li>
              <li>
                <div id="post3" class="collapsible-header grey lighten-4"></div>
              </li>
              <li>
                <div id="post4" class="collapsible-header grey lighten-4"></div>
              </li>
              <li>
                <div id="post5" class="collapsible-header grey lighten-4"></div>
              </li>
              <li>
                <div id="post6" class="collapsible-header grey lighten-4"></div>
              </li>
            </ul>
            <div>
              <h5>&nbsp;</h5>
              <button class = "mentorpost-button hidden">Escribir nueva publicación</button>
            </div>
          </div>

          <div class="container" style="z-index: 1; bottom: 0px; margin-top: 40px;">
              <a id="video1_button" href = "#"><img width = 60vw src="images/video.png">Video1</a>
              <a id="video2_button" href = "#"><img width = 60vw src="images/video.png">Video2</a>
              <a id="video3_button" href = "#"><img width = 60vw src="images/video.png">Video3</a>
              <a class = "checklist-button" href="https://www.d2checklist.com/home"><img width = 60vw src="images/d2checklist.png">D2Checklist</a>
              <a class = "raidreport-button" href="https://raid.report/"><img width = 60vw src="images/raidreport.png">Raid Report</a>
          </div>
        </ul>

        <ul class="forbidden_content hidden">
          <h5>Lo sentimos, pero no tienes permiso para ver este contenido.
            Si deseas entrar al campamento o la academia, solicita tu admisión
            con cualquiera de los administradores del clan.
          </h5>
        </ul>
       
        <header class="navbar">
          <nav>
            <a href="index.html">Regresar al inicio</a></div>
            <a class="sign-out">Cerrar sesión</a>
          </nav>
        </header>
    </section>

    <div id="modal-seepost" class="modal">
      <div class="modal-content center-align">
        <h6 class = "post-op">Por: </h6><br/>
        <h6 class = "post-title"></h6><br/>
        <h6 class = "post-description"></h6><br/>
        <h6 class = "post-video"></h6><br/>
        <button class = "gotofireteams hidden">Ver escuadra en Fireteams</button>
        <button class = "close-modal">Cerrar</button>
        <!-- Modificar esto conforme progrese el desarrollo -->
      </div>
    </div>

    <!-- update the version number as needed -->
    <script src="/__/firebase/7.12.0/firebase-app.js"></script>
    <!-- include only the Firebase features as you need -->
    <script src="/__/firebase/7.12.0/firebase-auth.js"></script>
    <script src="/__/firebase/7.12.0/firebase-firestore.js"></script>
    <script src="/__/firebase/7.12.0/firebase-functions.js"></script>
    <!-- initialize the SDK after all desired features are loaded -->
    <script src="/__/firebase/init.js"></script>

    <!-- initialize firebase -->
    <script>
    auth = firebase.auth();
    db = firebase.firestore();

    var url = new URL(window.location.href);
    var programcode = Number(url.searchParams.get('programcode'));
    var postfireteamid;
    var newActivityList = [];

    const streamForm = document.querySelector('.stream-form');

    </script>

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="scripts/programs.js"></script>
</body>
</html>